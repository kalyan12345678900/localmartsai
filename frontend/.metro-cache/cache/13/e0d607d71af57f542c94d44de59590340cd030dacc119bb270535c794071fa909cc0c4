{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":35,"index":195}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({\n    user: null,\n    token: null,\n    loading: true,\n    login: async () => ({}),\n    register: async () => ({}),\n    logout: async () => {},\n    switchRole: async () => {},\n    refreshUser: async () => {}\n  });\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('auth_token');\n        if (storedToken) {\n          setToken(storedToken);\n          const userData = await _utilsApi.api.getMe();\n          setUser(userData);\n        }\n      } catch (e) {\n        await AsyncStorage.default.removeItem('auth_token');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const result = await _utilsApi.api.login({\n        email,\n        password\n      });\n      await AsyncStorage.default.setItem('auth_token', result.token);\n      setToken(result.token);\n      setUser(result.user);\n      return result.user;\n    };\n    const register = async data => {\n      const result = await _utilsApi.api.register(data);\n      await AsyncStorage.default.setItem('auth_token', result.token);\n      setToken(result.token);\n      setUser(result.user);\n      return result.user;\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('auth_token');\n      setToken(null);\n      setUser(null);\n    };\n    const switchRole = async role => {\n      const updatedUser = await _utilsApi.api.switchRole(role);\n      setUser(updatedUser);\n    };\n    const refreshUser = async () => {\n      const userData = await _utilsApi.api.getMe();\n      setUser(userData);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout,\n        switchRole,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    return (0, _react.useContext)(AuthContext);\n  };\n  _s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":118,"map":[[15,2,43,0,"exports"],[15,9,43,0],[15,10,43,0,"AuthProvider"],[15,22,43,0],[15,25,43,0,"AuthProvider"],[15,37,43,0],[16,2,106,0,"Object"],[16,8,106,0],[16,9,106,0,"defineProperty"],[16,23,106,0],[16,24,106,0,"exports"],[16,31,106,0],[17,4,106,0,"enumerable"],[17,14,106,0],[18,4,106,0,"get"],[18,7,106,0],[18,18,106,0,"get"],[18,19,106,0],[19,6,106,0],[19,13,106,0,"useAuth"],[19,20,106,0],[20,4,106,0],[21,2,106,0],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[23,42,2,0],[23,45,2,0,"require"],[23,52,2,0],[23,53,2,0,"_dependencyMap"],[23,67,2,0],[24,2,2,0],[24,6,2,0,"AsyncStorage"],[24,18,2,0],[24,21,2,0,"_interopDefault"],[24,36,2,0],[24,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[24,73,2,0],[25,2,3,0],[25,6,3,0,"_utilsApi"],[25,15,3,0],[25,18,3,0,"require"],[25,25,3,0],[25,26,3,0,"_dependencyMap"],[25,40,3,0],[26,2,3,35],[26,6,3,35,"_reactJsxDevRuntime"],[26,25,3,35],[26,28,3,35,"require"],[26,35,3,35],[26,36,3,35,"_dependencyMap"],[26,50,3,35],[27,2,32,0],[27,8,32,6,"AuthContext"],[27,19,32,17],[27,35,32,20],[27,39,32,20,"createContext"],[27,45,32,33],[27,46,32,33,"createContext"],[27,59,32,33],[27,61,32,51],[28,4,33,2,"user"],[28,8,33,6],[28,10,33,8],[28,14,33,12],[29,4,34,2,"token"],[29,9,34,7],[29,11,34,9],[29,15,34,13],[30,4,35,2,"loading"],[30,11,35,9],[30,13,35,11],[30,17,35,15],[31,4,36,2,"login"],[31,9,36,7],[31,11,36,9],[31,17,36,9,"login"],[31,18,36,9],[31,24,36,22],[31,25,36,23],[31,26,36,24],[31,27,36,32],[32,4,37,2,"register"],[32,12,37,10],[32,14,37,12],[32,20,37,12,"register"],[32,21,37,12],[32,27,37,25],[32,28,37,26],[32,29,37,27],[32,30,37,35],[33,4,38,2,"logout"],[33,10,38,8],[33,12,38,10],[33,18,38,10,"logout"],[33,19,38,10],[33,24,38,22],[33,25,38,23],[33,26,38,24],[34,4,39,2,"switchRole"],[34,14,39,12],[34,16,39,14],[34,22,39,14,"switchRole"],[34,23,39,14],[34,28,39,26],[34,29,39,27],[34,30,39,28],[35,4,40,2,"refreshUser"],[35,15,40,13],[35,17,40,15],[35,23,40,15,"refreshUser"],[35,24,40,15],[35,29,40,27],[35,30,40,28],[36,2,41,0],[36,3,41,1],[36,4,41,2],[37,2,43,7],[37,11,43,16,"AuthProvider"],[37,23,43,28,"AuthProvider"],[37,24,43,29],[38,4,43,31,"children"],[39,2,43,65],[39,3,43,66],[39,5,43,68],[40,4,43,68,"_s"],[40,6,43,68],[41,4,44,2],[41,10,44,8],[41,11,44,9,"user"],[41,15,44,13],[41,17,44,15,"setUser"],[41,24,44,22],[41,25,44,23],[41,28,44,26],[41,32,44,26,"useState"],[41,38,44,34],[41,39,44,34,"useState"],[41,47,44,34],[41,49,44,48],[41,53,44,52],[41,54,44,53],[42,4,45,2],[42,10,45,8],[42,11,45,9,"token"],[42,16,45,14],[42,18,45,16,"setToken"],[42,26,45,24],[42,27,45,25],[42,30,45,28],[42,34,45,28,"useState"],[42,40,45,36],[42,41,45,36,"useState"],[42,49,45,36],[42,51,45,52],[42,55,45,56],[42,56,45,57],[43,4,46,2],[43,10,46,8],[43,11,46,9,"loading"],[43,18,46,16],[43,20,46,18,"setLoading"],[43,30,46,28],[43,31,46,29],[43,34,46,32],[43,38,46,32,"useState"],[43,44,46,40],[43,45,46,40,"useState"],[43,53,46,40],[43,55,46,41],[43,59,46,45],[43,60,46,46],[44,4,48,2],[44,8,48,2,"useEffect"],[44,14,48,11],[44,15,48,11,"useEffect"],[44,24,48,11],[44,26,48,12],[44,32,48,18],[45,6,49,4,"loadStoredAuth"],[45,20,49,18],[45,21,49,19],[45,22,49,20],[46,4,50,2],[46,5,50,3],[46,7,50,5],[46,9,50,7],[46,10,50,8],[47,4,52,2],[47,10,52,8,"loadStoredAuth"],[47,24,52,22],[47,27,52,25],[47,33,52,25,"loadStoredAuth"],[47,34,52,25],[47,39,52,37],[48,6,53,4],[48,10,53,8],[49,8,54,6],[49,14,54,12,"storedToken"],[49,25,54,23],[49,28,54,26],[49,34,54,32,"AsyncStorage"],[49,46,54,44],[49,47,54,44,"default"],[49,54,54,44],[49,55,54,45,"getItem"],[49,62,54,52],[49,63,54,53],[49,75,54,65],[49,76,54,66],[50,8,55,6],[50,12,55,10,"storedToken"],[50,23,55,21],[50,25,55,23],[51,10,56,8,"setToken"],[51,18,56,16],[51,19,56,17,"storedToken"],[51,30,56,28],[51,31,56,29],[52,10,57,8],[52,16,57,14,"userData"],[52,24,57,22],[52,27,57,25],[52,33,57,31,"api"],[52,42,57,34],[52,43,57,34,"api"],[52,46,57,34],[52,47,57,35,"getMe"],[52,52,57,40],[52,53,57,41],[52,54,57,42],[53,10,58,8,"setUser"],[53,17,58,15],[53,18,58,16,"userData"],[53,26,58,24],[53,27,58,25],[54,8,59,6],[55,6,60,4],[55,7,60,5],[55,8,60,6],[55,15,60,13,"e"],[55,16,60,14],[55,18,60,16],[56,8,61,6],[56,14,61,12,"AsyncStorage"],[56,26,61,24],[56,27,61,24,"default"],[56,34,61,24],[56,35,61,25,"removeItem"],[56,45,61,35],[56,46,61,36],[56,58,61,48],[56,59,61,49],[57,6,62,4],[57,7,62,5],[57,16,62,14],[58,8,63,6,"setLoading"],[58,18,63,16],[58,19,63,17],[58,24,63,22],[58,25,63,23],[59,6,64,4],[60,4,65,2],[60,5,65,3],[61,4,67,2],[61,10,67,8,"login"],[61,15,67,13],[61,18,67,16],[61,24,67,16,"login"],[61,25,67,23,"email"],[61,30,67,36],[61,32,67,38,"password"],[61,40,67,54],[61,45,67,59],[62,6,68,4],[62,12,68,10,"result"],[62,18,68,16],[62,21,68,19],[62,27,68,25,"api"],[62,36,68,28],[62,37,68,28,"api"],[62,40,68,28],[62,41,68,29,"login"],[62,46,68,34],[62,47,68,35],[63,8,68,37,"email"],[63,13,68,42],[64,8,68,44,"password"],[65,6,68,53],[65,7,68,54],[65,8,68,55],[66,6,69,4],[66,12,69,10,"AsyncStorage"],[66,24,69,22],[66,25,69,22,"default"],[66,32,69,22],[66,33,69,23,"setItem"],[66,40,69,30],[66,41,69,31],[66,53,69,43],[66,55,69,45,"result"],[66,61,69,51],[66,62,69,52,"token"],[66,67,69,57],[66,68,69,58],[67,6,70,4,"setToken"],[67,14,70,12],[67,15,70,13,"result"],[67,21,70,19],[67,22,70,20,"token"],[67,27,70,25],[67,28,70,26],[68,6,71,4,"setUser"],[68,13,71,11],[68,14,71,12,"result"],[68,20,71,18],[68,21,71,19,"user"],[68,25,71,23],[68,26,71,24],[69,6,72,4],[69,13,72,11,"result"],[69,19,72,17],[69,20,72,18,"user"],[69,24,72,22],[70,4,73,2],[70,5,73,3],[71,4,75,2],[71,10,75,8,"register"],[71,18,75,16],[71,21,75,19],[71,27,75,26,"data"],[71,31,75,35],[71,35,75,40],[72,6,76,4],[72,12,76,10,"result"],[72,18,76,16],[72,21,76,19],[72,27,76,25,"api"],[72,36,76,28],[72,37,76,28,"api"],[72,40,76,28],[72,41,76,29,"register"],[72,49,76,37],[72,50,76,38,"data"],[72,54,76,42],[72,55,76,43],[73,6,77,4],[73,12,77,10,"AsyncStorage"],[73,24,77,22],[73,25,77,22,"default"],[73,32,77,22],[73,33,77,23,"setItem"],[73,40,77,30],[73,41,77,31],[73,53,77,43],[73,55,77,45,"result"],[73,61,77,51],[73,62,77,52,"token"],[73,67,77,57],[73,68,77,58],[74,6,78,4,"setToken"],[74,14,78,12],[74,15,78,13,"result"],[74,21,78,19],[74,22,78,20,"token"],[74,27,78,25],[74,28,78,26],[75,6,79,4,"setUser"],[75,13,79,11],[75,14,79,12,"result"],[75,20,79,18],[75,21,79,19,"user"],[75,25,79,23],[75,26,79,24],[76,6,80,4],[76,13,80,11,"result"],[76,19,80,17],[76,20,80,18,"user"],[76,24,80,22],[77,4,81,2],[77,5,81,3],[78,4,83,2],[78,10,83,8,"logout"],[78,16,83,14],[78,19,83,17],[78,25,83,17,"logout"],[78,26,83,17],[78,31,83,29],[79,6,84,4],[79,12,84,10,"AsyncStorage"],[79,24,84,22],[79,25,84,22,"default"],[79,32,84,22],[79,33,84,23,"removeItem"],[79,43,84,33],[79,44,84,34],[79,56,84,46],[79,57,84,47],[80,6,85,4,"setToken"],[80,14,85,12],[80,15,85,13],[80,19,85,17],[80,20,85,18],[81,6,86,4,"setUser"],[81,13,86,11],[81,14,86,12],[81,18,86,16],[81,19,86,17],[82,4,87,2],[82,5,87,3],[83,4,89,2],[83,10,89,8,"switchRole"],[83,20,89,18],[83,23,89,21],[83,29,89,28,"role"],[83,33,89,40],[83,37,89,45],[84,6,90,4],[84,12,90,10,"updatedUser"],[84,23,90,21],[84,26,90,24],[84,32,90,30,"api"],[84,41,90,33],[84,42,90,33,"api"],[84,45,90,33],[84,46,90,34,"switchRole"],[84,56,90,44],[84,57,90,45,"role"],[84,61,90,49],[84,62,90,50],[85,6,91,4,"setUser"],[85,13,91,11],[85,14,91,12,"updatedUser"],[85,25,91,23],[85,26,91,24],[86,4,92,2],[86,5,92,3],[87,4,94,2],[87,10,94,8,"refreshUser"],[87,21,94,19],[87,24,94,22],[87,30,94,22,"refreshUser"],[87,31,94,22],[87,36,94,34],[88,6,95,4],[88,12,95,10,"userData"],[88,20,95,18],[88,23,95,21],[88,29,95,27,"api"],[88,38,95,30],[88,39,95,30,"api"],[88,42,95,30],[88,43,95,31,"getMe"],[88,48,95,36],[88,49,95,37],[88,50,95,38],[89,6,96,4,"setUser"],[89,13,96,11],[89,14,96,12,"userData"],[89,22,96,20],[89,23,96,21],[90,4,97,2],[90,5,97,3],[91,4,99,2],[91,24,100,4],[91,28,100,4,"_reactJsxDevRuntime"],[91,47,100,4],[91,48,100,4,"jsxDEV"],[91,54,100,4],[91,56,100,5,"AuthContext"],[91,67,100,16],[91,68,100,17,"Provider"],[91,76,100,25],[92,6,100,26,"value"],[92,11,100,31],[92,13,100,33],[93,8,100,35,"user"],[93,12,100,39],[94,8,100,41,"token"],[94,13,100,46],[95,8,100,48,"loading"],[95,15,100,55],[96,8,100,57,"login"],[96,13,100,62],[97,8,100,64,"register"],[97,16,100,72],[98,8,100,74,"logout"],[98,14,100,80],[99,8,100,82,"switchRole"],[99,18,100,92],[100,8,100,94,"refreshUser"],[101,6,100,106],[101,7,100,108],[102,6,100,108,"children"],[102,14,100,108],[102,16,101,7,"children"],[103,4,101,15],[104,6,101,15,"fileName"],[104,14,101,15],[104,16,101,15,"_jsxFileName"],[104,28,101,15],[105,6,101,15,"lineNumber"],[105,16,101,15],[106,6,101,15,"columnNumber"],[106,18,101,15],[107,4,101,15],[107,11,102,26],[107,12,102,27],[108,2,104,0],[109,2,104,1,"_s"],[109,4,104,1],[109,5,43,16,"AuthProvider"],[109,17,43,28],[110,2,43,28,"_c"],[110,4,43,28],[110,7,43,16,"AuthProvider"],[110,19,43,28],[111,2,106,7],[111,8,106,13,"useAuth"],[111,15,106,20],[111,18,106,23,"useAuth"],[111,19,106,23],[112,4,106,23,"_s2"],[112,7,106,23],[113,4,106,23],[113,11,106,29],[113,15,106,29,"useContext"],[113,21,106,39],[113,22,106,39,"useContext"],[113,32,106,39],[113,34,106,40,"AuthContext"],[113,45,106,51],[113,46,106,52],[114,2,106,52],[115,2,106,53,"_s2"],[115,5,106,53],[115,6,106,13,"useAuth"],[115,13,106,20],[116,2,106,20],[116,6,106,20,"_c"],[116,8,106,20],[117,2,106,20,"$RefreshReg$"],[117,14,106,20],[117,15,106,20,"_c"],[117,17,106,20],[118,0,106,20],[118,3]],"functionMap":{"names":["<global>","createContext$argument_0.login","createContext$argument_0.register","createContext$argument_0.logout","createContext$argument_0.switchRole","createContext$argument_0.refreshUser","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","switchRole","refreshUser","useAuth"],"mappings":"AAA;SCmC,uBD;YEC,uBF;UGC,cH;cIC,cJ;eKC,cL;OMG;YCK;GDE;yBEE;GFa;gBGE;GHM;mBIE;GJM;iBKE;GLI;qBME;GNG;sBOE;GPG;CNO;uBcE,6Bd"},"hasCjsExports":false},"type":"js/module"}]}